---
title: 前端安全问题 - XSS
date: 2018-03-17
tags: 前端
---

------

工作以来很少关注过前端安全问题，一直认为只要后端拦截就可以了，前端影响不大，直到问题的出现...

### 1、背景

![question](/assets/images/xss-1.png)

上面这段代码有看到什么安全隐患吗？

关键就是这一行
```javascript
location.href = url
```
<!--more-->
没有经过任何验证，直接跳转

再近一步，这段代码可能会产生哪些问题？

![question](/assets/images/xss-2.png)

如果是从外部直接传进来一段js代码呢？ location.href会识别并完全执行

处理问题的时候也稍微补了一下安全知识，才了解这原来叫-XSS攻击

### 2、什么是XSS
XSS是指恶意攻击者利用网站没有对用户提交数据进行转义处理或者过滤不足的缺点，进而添加一些代码，嵌入到web页面中去。使别的用户访问都会执行相应的嵌入代码

危害：插入广告；盗取用户信息；一些强制性操作；借用网站向别的网站发起攻击；如果只是前端还好，如果涉及到一些后端数据，那就问题大了

### 3、避免
1. 不要完全相信用户输入的数据
2. 不要将不可信数据插入html
3. 不要将不可信数据插入script

总之，对不可信数据不要进行任何操作